@using CulinaryCommand.Data.Entities

<EditForm Model="@Model" OnValidSubmit="Submit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div class="row mb-3">
        <div class="col-md-6">
            <label class="form-label">Location Name</label>
            <InputText class="form-control" @bind-Value="Model.Name" />
        </div>

        <div class="col-md-6">
            <label class="form-label">Street Address</label>
            <InputText class="form-control" @bind-Value="Model.Address" />
        </div>
    </div>

    <div class="row mb-3">
        <div class="col-md-4">
            <label class="form-label">City</label>
            <InputText class="form-control" @bind-Value="Model.City" />
        </div>

        <div class="col-md-4">
            <label class="form-label">State</label>
            <InputText class="form-control" @bind-Value="Model.State" />
        </div>

        <div class="col-md-4">
            <label class="form-label">Postal Code</label>
            <InputText class="form-control" @bind-Value="Model.ZipCode" />
        </div>
    </div>

    <button type="submit" class="btn btn-success">
        Save
    </button>

    @if (OnCancel.HasDelegate)
    {
        <button type="button" class="btn btn-outline-secondary ms-2" @onclick="() => OnCancel.InvokeAsync()">
            Cancel
        </button>
    }
</EditForm>

@code {
    [Parameter] public Location Model { get; set; } = new();
    [Parameter] public EventCallback<Location> OnSave { get; set; }
    [Parameter] public EventCallback OnCancel { get; set; }

    private async Task Submit()
    {
        await OnSave.InvokeAsync(Model);
    }
}